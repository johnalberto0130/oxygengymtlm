
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OXYGENE GAME - Jeu de frappe</title>
    <!-- Google Fonts: Anton pour les titres et Poppins pour le texte -->
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Ic√¥nes Font Awesome pour les m√©dailles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        /* Variables g√©n√©rales et couleurs */
        :root {
            --main-color: #00ff88;
            --dark-bg: #111;
            --text-color: #f0f0f0;
            --shadow-light: rgba(0, 255, 136, 0.5);
            --shadow-dark: rgba(0, 0, 0, 0.8);
            --green-btn: #00e676;
            --green-glow: rgba(0, 255, 136, 0.7);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-color);
            direction: ltr;
            text-align: left;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        /* Conteneur principal du jeu */
        .game-wrapper {
            position: relative;
            width: 90%;
            max-width: 800px;
            height: 80vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Fond flou pour le conteneur du jeu */
        .game-background-blur {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            box-shadow: 0 10px 30px var(--shadow-dark);
            filter: blur(5px);
            opacity: 0.5;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        /* √âtat lorsque le jeu est actif */
        .game-wrapper.playing .game-background-blur {
            filter: blur(0);
            opacity: 1;
        }

        /* Conteneur de l'interface utilisateur du jeu */
        .game-ui {
            position: relative;
            width: 100%;
            height: 100%;
            padding: 40px;
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out;
        }

        .game-wrapper.playing .game-ui {
            opacity: 1;
            visibility: visible;
        }

        /* √âcran de d√©marrage */
        .start-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        .start-button {
            padding: 20px 40px;
            font-size: 2em;
            font-family: 'Anton', sans-serif;
            color: #fff;
            background-color: var(--green-btn);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.3);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .start-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 255, 136, 0.5);
        }

        /* Superposition du compte √† rebours */
        .countdown-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 20;
            background-color: rgba(17, 17, 17, 0.8);
        }

        .countdown-text {
            font-family: 'Anton', sans-serif;
            font-size: 8em;
            color: white;
            text-shadow: 0 0 20px var(--main-color);
        }

        /* Zone de la minuterie et des m√©dailles */
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .medals {
            font-size: 2.5em;
            display: flex;
            gap: 10px;
        }

        .medal-icon {
            opacity: 0.3;
            transition: opacity 0.5s;
        }

        .medal-icon.unlocked {
            opacity: 1;
        }
        
        .timer-display {
            font-family: 'Anton', sans-serif;
            font-size: 2.5em;
            color: var(--main-color);
        }

        /* Barre de progression */
        .progress-bar-container {
            width: 100%;
            height: 15px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.5);
        }
        
        .progress-bar {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, var(--green-glow), var(--main-color));
            border-radius: 10px;
            transition: width 0.3s ease-in-out;
        }

        /* Champs de mot et de saisie */
        .word-field, .input-field {
            padding: 20px;
            border-radius: 15px;
            font-family: 'Poppins', sans-serif;
            font-size: 1.8em;
            font-weight: bold;
            color: var(--dark-bg);
            background-color: white;
            text-align: center;
            box-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
            border: 2px solid transparent;
            transition: box-shadow 0.3s, border-color 0.3s;
        }
        
        .input-field {
            padding: 15px 20px;
            font-size: 1.5em;
            outline: none;
        }
        
        .input-field:focus {
            box-shadow: 0 0 20px var(--main-color), 0 0 30px var(--green-glow);
            border-color: var(--main-color);
        }

        /* Modals */
        .modal {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(17, 17, 17, 0.9);
            z-index: 30;
            opacity: 0;
            visibility: hidden;
        }

        .modal-content {
            position: relative;
            background-color: #1a1a1a;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 40px var(--shadow-dark);
            transform: translateY(-50px);
            overflow: hidden;
        }

        .modal-content h3 {
            font-family: 'Anton', sans-serif;
            font-size: 2.5em;
            color: var(--main-color);
            margin-bottom: 10px;
        }

        .modal-content p {
            font-size: 1.2em;
            color: #ccc;
            margin-bottom: 30px;
        }

        .modal-content button {
            padding: 12px 25px;
            font-size: 1.1em;
            font-weight: bold;
            text-transform: uppercase;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            background-color: var(--green-btn);
            color: var(--dark-bg);
        }

        .modal-content button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.5);
        }

        .medal-in-modal {
            font-size: 4em;
            margin-bottom: 20px;
            display: block;
        }
        
        .confetti-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .confetti-piece {
            position: absolute;
            font-size: 1.5em;
            opacity: 0;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .game-ui {
                padding: 20px;
            }
            .start-button {
                font-size: 1.5em;
                padding: 15px 30px;
            }
            .countdown-text {
                font-size: 4em;
            }
            .word-field, .input-field {
                font-size: 1.2em;
            }
            .game-header {
                flex-direction: column;
                gap: 15px;
            }
        }

    </style>
</head>
<body>

    <div class="game-wrapper" id="game-wrapper">
        <div class="game-background-blur"></div>
        
        <!-- √âcran de d√©marrage -->
        <div class="start-screen" id="start-screen">
            <button class="start-button" id="start-button">D√©marrer le jeu</button>
        </div>

        <!-- Superposition du compte √† rebours -->
        <div class="countdown-overlay" id="countdown-overlay">
            <div class="countdown-text" id="countdown-text"></div>
        </div>
        
        <!-- UI du jeu -->
        <div class="game-ui" id="game-ui">
            <div class="game-header">
                <div class="medals" id="medals-display">
                    <span class="medal-icon" id="medal-bronze">ü•â</span>
                    <span class="medal-icon" id="medal-silver">ü•à</span>
                    <span class="medal-icon" id="medal-gold">ü•á</span>
                </div>
                <div class="score-display">Score: <span id="score-value">0</span></div>
                <div class="timer-display" id="timer-display"></div>
            </div>
            
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>

            <div class="word-field" id="word-field"></div>
            <input type="text" class="input-field" id="input-field" placeholder="√âcrivez le mot ici...">
        </div>

        <!-- Modal de victoire de m√©daille -->
        <div class="modal" id="medal-modal">
            <div class="modal-content">
                <div class="confetti-container"></div>
                <span id="medal-icon-in-modal" class="medal-in-modal"></span>
                <h3 id="medal-title"></h3>
                <p id="medal-message"></p>
                <div class="button-group">
                    <button id="continue-button">Continuer</button>
                    <button id="stop-button" style="background-color: #f44336; color: white; margin-left: 10px;">Arr√™ter</button>
                </div>
            </div>
        </div>

        <!-- Modal de d√©faite -->
        <div class="modal" id="loss-modal">
            <div class="modal-content">
                <h3>Oh, non, vous avez perdu!</h3>
                <p>Pas de probl√®me, r√©essayez. C'est en forgeant qu'on devient forgeron !</p>
                <button id="restart-button">Recommencer</button>
            </div>
        </div>
    </div>

    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script>
        // DOM Elements and variables
        const startScreen = document.getElementById('start-screen');
        const startButton = document.getElementById('start-button');
        const gameWrapper = document.getElementById('game-wrapper');
        const gameUI = document.getElementById('game-ui');
        const countdownOverlay = document.getElementById('countdown-overlay');
        const countdownText = document.getElementById('countdown-text');
        const wordField = document.getElementById('word-field');
        const inputField = document.getElementById('input-field');
        const timerDisplay = document.getElementById('timer-display');
        const scoreValue = document.getElementById('score-value');
        const progressBar = document.getElementById('progress-bar');
        const medalBronze = document.getElementById('medal-bronze');
        const medalSilver = document.getElementById('medal-silver');
        const medalGold = document.getElementById('medal-gold');
        const medalModal = document.getElementById('medal-modal');
        const lossModal = document.getElementById('loss-modal');
        const continueButton = document.getElementById('continue-button');
        const stopButton = document.getElementById('stop-button');
        const restartButton = document.getElementById('restart-button');
        const medalIconInModal = document.getElementById('medal-icon-in-modal');
        const medalTitleInModal = document.getElementById('medal-title');
        const medalMessageInModal = document.getElementById('medal-message');
        const confettiContainer = document.querySelector('.confetti-container');

        // JS variables to match CSS colors
        const mainColor = '#00ff88';
        const darkBg = '#111';
        const greenGlow = 'rgba(0, 255, 136, 0.7)';

        // Game data in French
        const levels = [
            { id: 1, words: ['Gym', 'Coach', 'Cardio', 'Squat', 'Poids'], time: 5, medal: 'ü•â', title: 'F√©licitations! M√©daille de Bronze.', message: 'Vous √™tes sur la bonne voie! Continuez √† vous entra√Æner!' },
            { id: 2, words: ['musculation', 'traction', 'abdominaux', 'r√©sistance', '√©chauffement'], time: 8, medal: 'ü•à', title: 'Excellent travail! M√©daille d\'Argent.', message: 'Vos capacit√©s sont illimit√©es. Vous √™tes un v√©ritable pro !' },
            { id: 3, words: ['halt√©rophilie', 'entra√Ænement intensif', 'condition physique', 'renforcement musculaire', 'd√©velopp√© couch√©'], time: 10, medal: 'ü•á', title: 'Incroyable! M√©daille d\'Or!', message: 'Vous avez atteint le sommet! Vos comp√©tences sont exceptionnelles!' }
        ];

        // Game State
        let currentLevelIndex = 0;
        let wordIndex = 0;
        let score = 0;
        let timerSeconds = 0;
        let intervalId;

        // Function to start the game
        function startGame() {
            // Hide the start screen and show the game UI
            gsap.to(startScreen, { opacity: 0, duration: 0.5, onComplete: () => {
                startScreen.style.display = 'none';
                gameWrapper.classList.add('playing');
                showCountdown();
            }});
        }

        // Countdown function
        function showCountdown() {
            countdownOverlay.style.display = 'flex';
            let count = 3;
            countdownText.textContent = count;
            gsap.timeline({ onComplete: () => {
                countdownOverlay.style.display = 'none';
                loadLevel();
            }})
            .fromTo(countdownText, { scale: 0.5, opacity: 0 }, { scale: 1, opacity: 1, duration: 0.8, ease: 'power2.inOut', onStart: () => {
                countdownText.textContent = count;
            }})
            .to(countdownText, { scale: 1.5, opacity: 0, duration: 0.2, onRepeat: () => {
                count--;
                if (count > 0) {
                    countdownText.textContent = count;
                } else {
                    countdownText.textContent = 'GO!';
                }
            }, repeat: 2 });
        }

        // Function to load a level
        function loadLevel() {
            updateProgressBar();
            inputField.value = '';
            inputField.focus();
            showNextWord();
        }

        // Function to display the next word
        function showNextWord() {
            clearInterval(intervalId);
            inputField.value = '';
            
            if (wordIndex < levels[currentLevelIndex].words.length) {
                const currentWord = levels[currentLevelIndex].words[wordIndex];
                wordField.textContent = currentWord;
                timerSeconds = levels[currentLevelIndex].time;
                startTimer();
            } else {
                showMedalModal();
            }
        }

        // Function to start the timer
        function startTimer() {
            let startTime = performance.now();
            const duration = levels[currentLevelIndex].time * 1000;
            
            intervalId = setInterval(() => {
                const elapsedTime = performance.now() - startTime;
                timerSeconds = Math.max(0, levels[currentLevelIndex].time - (elapsedTime / 1000));
                timerDisplay.textContent = timerSeconds.toFixed(1);
                
                if (timerSeconds <= 0) {
                    clearInterval(intervalId);
                    showLossModal();
                }
            }, 100);
        }

        // Function to update the progress bar
        function updateProgressBar() {
            const progress = (wordIndex / levels[currentLevelIndex].words.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Function to check the entered word
        function checkWord() {
            const currentWord = levels[currentLevelIndex].words[wordIndex].toLowerCase();
            const typedWord = inputField.value.trim().toLowerCase();

            if (typedWord === currentWord) {
                clearInterval(intervalId);
                score++;
                scoreValue.textContent = score;
                wordIndex++;
                updateProgressBar();
                
                // Correct word animation
                gsap.to(wordField, {
                    scale: 1.1,
                    color: mainColor,
                    duration: 0.2,
                    yoyo: true,
                    repeat: 1,
                    onComplete: () => {
                        wordField.style.color = darkBg;
                        if (wordIndex < levels[currentLevelIndex].words.length) {
                            showNextWord();
                        } else {
                            showMedalModal();
                        }
                    }
                });
            }
        }

        // Function to show the medal modal with confetti
        function showMedalModal() {
            const currentLevel = levels[currentLevelIndex];
            medalIconInModal.textContent = currentLevel.medal;
            medalTitleInModal.textContent = currentLevel.title;
            medalMessageInModal.textContent = currentLevel.message;
            
            if (currentLevel.id === 1) medalBronze.classList.add('unlocked');
            if (currentLevel.id === 2) medalSilver.classList.add('unlocked');
            if (currentLevel.id === 3) medalGold.classList.add('unlocked');

            gsap.to(medalModal, {
                opacity: 1,
                visibility: 'visible',
                duration: 0.5,
                ease: 'power2.inOut'
            });
            gsap.fromTo('.modal-content', { scale: 0.8, y: -50 }, { scale: 1, y: 0, duration: 0.5, ease: 'back.out(1.7)' });
            
            if (currentLevelIndex === levels.length - 1) {
                continueButton.textContent = 'Terminer';
                stopButton.style.display = 'none';
            } else {
                continueButton.textContent = 'Continuer';
                stopButton.style.display = 'inline-block';
            }
            
            // Confetti animation
            createConfetti();
        }

        // Function to show the loss modal
        function showLossModal() {
            gsap.to(lossModal, {
                opacity: 1,
                visibility: 'visible',
                duration: 0.5,
                ease: 'power2.inOut'
            });
            gsap.fromTo(lossModal.querySelector('.modal-content'), { scale: 0.8, y: -50 }, { scale: 1, y: 0, duration: 0.5, ease: 'back.out(1.7)' });
            
            gsap.to(restartButton, {
                scale: 1.05,
                boxShadow: `0 0 20px ${greenGlow}`,
                duration: 0.5,
                yoyo: true,
                repeat: -1
            });
        }
        
        // Function to create confetti animation
        function createConfetti() {
            const confettiEmojis = ['üéâ', 'üéä', '‚ú®', 'üèÜ'];
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti-piece');
                confetti.textContent = confettiEmojis[Math.floor(Math.random() * confettiEmojis.length)];
                confettiContainer.appendChild(confetti);

                const startX = Math.random() * window.innerWidth - window.innerWidth / 2;
                const startY = Math.random() * window.innerHeight - window.innerHeight / 2;
                const endX = startX + (Math.random() - 0.5) * 500;
                const endY = startY + (Math.random() * 500);
                const rotation = Math.random() * 720;
                const duration = 2 + Math.random() * 2;
                
                gsap.fromTo(confetti, {
                    x: startX,
                    y: startY,
                    opacity: 1,
                    rotation: 0
                }, {
                    x: endX,
                    y: endY,
                    opacity: 0,
                    rotation: rotation,
                    duration: duration,
                    ease: 'power1.out',
                    onComplete: () => confetti.remove()
                });
            }
        }

        // Function to reset the game
        function restartGame() {
            gsap.to([medalModal, lossModal], { opacity: 0, visibility: 'hidden', duration: 0.5 });
            
            currentLevelIndex = 0;
            wordIndex = 0;
            score = 0;
            scoreValue.textContent = 0;
            
            medalBronze.classList.remove('unlocked');
            medalSilver.classList.remove('unlocked');
            medalGold.classList.remove('unlocked');
            
            progressBar.style.width = '0%';
            
            // Re-show the start screen to allow for a proper restart
            startScreen.style.display = 'flex';
            gameWrapper.classList.remove('playing');
            startButton.textContent = "D√©marrer le jeu";
            // Ensure UI is hidden
            gameUI.style.opacity = 0;
            gameUI.style.visibility = 'hidden';
        }

        // Event listeners
        startButton.addEventListener('click', startGame);
        inputField.addEventListener('input', checkWord);
        restartButton.addEventListener('click', restartGame);
        
        continueButton.addEventListener('click', () => {
            gsap.to(medalModal, { opacity: 0, visibility: 'hidden', duration: 0.5 });
            currentLevelIndex++;
            wordIndex = 0;
            
            if (currentLevelIndex < levels.length) {
                showCountdown();
            } else {
                gameUI.style.opacity = 0;
                gameUI.style.visibility = 'hidden';
                startScreen.style.display = 'flex';
                gameWrapper.classList.remove('playing');
                startButton.textContent = "Rejouer";
            }
        });
        
        stopButton.addEventListener('click', () => {
            gsap.to(medalModal, { opacity: 0, visibility: 'hidden', duration: 0.5 });
            gameUI.style.opacity = 0;
            gameUI.style.visibility = 'hidden';
            startScreen.style.display = 'flex';
            gameWrapper.classList.remove('playing');
            startButton.textContent = "Rejouer";
        });
    </script>
</body>
</html>
