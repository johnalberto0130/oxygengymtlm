<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Stone, Paper and Scissors</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins&display=swap');
    body {
      background: #2d2a3d;
      color: #fff;
      font-family: "Poppins";
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }
    .container {
      width: 100%;
      max-width: 600px;
      text-align: center;
      background: rgba(45, 42, 61, 0.9);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      border: 1px solid #00ced1;
      position: relative;
    }
    .message {
      margin: 2em 0 1.5em;
      text-align: center;
      font-size: 1.2em;
    }
    .images {
      display: flex;
      justify-content: space-around;
      align-items: center;
      text-align: center;
      height: 180px;
    }
    .player {
      order: 2;
    }
    .computer {
      order: 1;
    }
    .computer img,
    .player img {
      width: 70%;
      max-width: 120px;
    }
    .shakeComputer {
      animation: shakeComputer 0.8s linear;
    }
    .shakePlayer {
      animation: shakePlayer 0.8s linear;
    }
    .points {
      margin: 1.5em 0;
      text-align: center;
      font-size: 1.1em;
    }
    .computerPoints {
      margin-left: 1.5em;
    }
    .playerPoints {
      margin-right: 1.5em;
    }
    .rounds {
      margin: 0.5em 0;
      font-size: 0.9em;
      color: #00ced1;
    }
    .options {
      margin-top: 2em;
      display: flex;
      justify-content: space-around;
    }
    .option-btn {
      background: none;
      color: #fff;
      font-family: "Poppins";
      border: 1px solid #fff;
      padding: 0.8em 1.5em;
      border-radius: 7px;
      width: 120px;
      white-space: nowrap;
      cursor: pointer;
      outline: none;
      transition: 0.2s all linear;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      font-size: 0.9em;
    }
    .option-btn:hover {
      background-color: darkcyan;
      border: 1px solid darkcyan;
    }
    .btn-img {
      width: 40px;
      height: 40px;
      object-fit: contain;
    }
    
    .result-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    .result-window {
      background: #2d2a3d;
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.6);
    }
    .win-result {
      border: 3px solid #00ff00;
      box-shadow: 0 0 20px #00ff00;
      animation: pulse-green 2s infinite;
    }
    .lose-result {
      border: 3px solid #ff3366;
      box-shadow: 0 0 20px #ff3366;
    }
    .result-message {
      font-size: 1.4em;
      margin-bottom: 25px;
      line-height: 1.5;
    }
    .rejouer-btn {
      background: #00ced1;
      color: #fff;
      border: none;
      padding: 12px 30px;
      border-radius: 7px;
      font-family: "Poppins";
      font-size: 1.1em;
      cursor: pointer;
      transition: 0.3s;
    }
    .rejouer-btn:hover {
      background: #00a6a9;
      transform: scale(1.05);
    }
    
    @keyframes shakeComputer {
      0% {
        transform: rotate(-30deg);
      }
      25% {
        transform: rotate(30deg);
      }
      50% {
        transform: rotate(-30deg);
      }
      75% {
        transform: rotate(30deg);
      }
      100% {
        transform: rotate(0deg);
      }
    }
    @keyframes shakePlayer {
      0% {
        transform: rotate(30deg);
      }
      25% {
        transform: rotate(-30deg);
      }
      50% {
        transform: rotate(30deg);
      }
      75% {
        transform: rotate(-30deg);
      }
      100% {
        transform: rotate(0deg);
      }
    }
    @keyframes pulse-green {
      0% { box-shadow: 0 0 20px #00ff00; }
      50% { box-shadow: 0 0 30px #00ff00; }
      100% { box-shadow: 0 0 20px #00ff00; }
    }
  </style>
</head>
<body>
<div class="container">
  <div class="message">CHOOSE AN OPTION</div>
  <div class="rounds">Round: <span id="currentRound">1</span>/5</div>
  <div class="images">
    <div class="computer">
      <h3>AI</h3>
      <img src="https://i.ibb.co/kgtrhH1W/stone-Computer.png" id="computerImg" />
    </div>
    <div class="player">
      <h3>PLAYER</h3>
      <img src="https://i.ibb.co/SXHLFwd3/stone-Player.png" id="playerImg" />
    </div>
  </div>
  <div class="points">
    AI <span id="computerPoints">0</span> -
    <span id="playerPoints">0</span> PLAYER
  </div>
  <div class="options">
    <button class="option-btn" type="button">
      <img src="https://i.ibb.co/SXHLFwd3/stone-Player.png" class="btn-img" />
      STONE
    </button>
    <button class="option-btn" type="button">
      <img src="https://i.ibb.co/HTww698G/paper-Player.png" class="btn-img" />
      PAPER
    </button>
    <button class="option-btn" type="button">
      <img src="https://i.ibb.co/p6hnCWdy/scissors-Player.png" class="btn-img" />
      SCISSORS
    </button>
  </div>
</div>

<div class="result-overlay" id="resultOverlay">
  <div class="result-window" id="resultWindow">
    <div class="result-message" id="resultMessage"></div>
    <button class="rejouer-btn" id="rejouerBtn">Rejouer</button>
  </div>
</div>

<script>
  const computerImg = document.getElementById("computerImg");
  const playerImg = document.getElementById("playerImg");
  const computerPoints = document.getElementById("computerPoints");
  const playerPoints = document.getElementById("playerPoints");
  const options = document.querySelectorAll(".option-btn");
  const currentRoundElement = document.getElementById("currentRound");
  const resultOverlay = document.getElementById("resultOverlay");
  const resultWindow = document.getElementById("resultWindow");
  const resultMessage = document.getElementById("resultMessage");
  const rejouerBtn = document.getElementById("rejouerBtn");

  let currentRound = 1;
  let playerScore = 0;
  let computerScore = 0;

  const playerImages = {
    STONE: "https://i.ibb.co/SXHLFwd3/stone-Player.png",
    PAPER: "https://i.ibb.co/HTww698G/paper-Player.png",
    SCISSORS: "https://i.ibb.co/p6hnCWdy/scissors-Player.png"
  };

  const computerImages = {
    STONE: "https://i.ibb.co/kgtrhH1W/stone-Computer.png",
    PAPER: "https://i.ibb.co/zqLQmWG/paper-Computer.png",
    SCISSORS: "https://i.ibb.co/Vc8JpSyr/scissors-Computer.png"
  };

  function resetGame() {
    playerScore = 0;
    computerScore = 0;
    currentRound = 1;
    computerPoints.textContent = "0";
    playerPoints.textContent = "0";
    currentRoundElement.textContent = "1";
    computerImg.src = "https://i.ibb.co/kgtrhH1W/stone-Computer.png";
    playerImg.src = "https://i.ibb.co/SXHLFwd3/stone-Player.png";
    resultOverlay.style.display = "none";
    
    options.forEach(btn => btn.disabled = false);
  }

  function showResult() {
    if (playerScore > computerScore) {
      resultWindow.className = "result-window win-result";
      resultMessage.innerHTML = "Félicitations, vous avez gagné,🎊<br>vous avez beaucoup de chance.✌️";
    } else {
      resultWindow.className = "result-window lose-result";
      resultMessage.innerHTML = "oh non, tu as perdu 😭 RÉESSAYEZ ET N'OUBLIEZ PAS DE VOUS INSCRIRE À OXYGENE GYM POUR STIMULER VOTRE CONCENTRATION 💫";
    }
    resultOverlay.style.display = "flex";
  }

  function handleRoundEnd() {
    if (currentRound >= 5) {
      options.forEach(btn => btn.disabled = true);
      
      setTimeout(showResult, 500);
    } else {
      currentRound++;
      currentRoundElement.textContent = currentRound;
    }
  }

  options.forEach((option) => {
    option.addEventListener("click", () => {
      computerImg.classList.add("shakeComputer");
      playerImg.classList.add("shakePlayer");

      setTimeout(() => {
        computerImg.classList.remove("shakeComputer");
        playerImg.classList.remove("shakePlayer");

        const playerChoice = option.textContent.trim();
        playerImg.src = playerImages[playerChoice];

        const choice = ["STONE", "PAPER", "SCISSORS"];
        let arrayNo = Math.floor(Math.random() * 3);
        let computerChoice = choice[arrayNo];
        computerImg.src = computerImages[computerChoice];

        if (playerChoice === computerChoice) {
        } else if (
          (playerChoice === "STONE" && computerChoice === "SCISSORS") ||
          (playerChoice === "PAPER" && computerChoice === "STONE") ||
          (playerChoice === "SCISSORS" && computerChoice === "PAPER")
        ) {
          playerScore++;
          playerPoints.textContent = playerScore;
        } else {
          computerScore++;
          computerPoints.textContent = computerScore;
        }

        handleRoundEnd();
      }, 900);
    });
  });

  rejouerBtn.addEventListener("click", resetGame);
</script>

</body>
</html>
